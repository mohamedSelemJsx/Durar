<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíù For My Princess Durar üíù</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --rose: #e8456b;
  --rose-deep: #c42348;
  --rose-light: #ff7b9c;
  --blush: #ffd6e0;
  --gold: #d4a853;
  --gold-light: #f0d48a;
  --cream: #fff8f0;
  --wine: #6b1d3a;
  --dark: #1a0a10;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--dark);
  color: var(--cream);
  font-family: 'Cormorant Garamond', serif;
  overflow-x: hidden;
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="18" font-size="18">üíï</text></svg>'), auto;
}

/* Three.js Canvas */
#three-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* Floating Petals Layer */
.petals-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
}

.petal {
  position: absolute;
  width: 12px;
  height: 12px;
  background: var(--rose-light);
  border-radius: 50% 0 50% 50%;
  opacity: 0;
  animation: petalFall linear infinite;
  filter: blur(0.5px);
}

@keyframes petalFall {
  0% { opacity: 0; transform: translateY(-10vh) rotate(0deg) translateX(0); }
  10% { opacity: 0.7; }
  90% { opacity: 0.5; }
  100% { opacity: 0; transform: translateY(110vh) rotate(720deg) translateX(100px); }
}

/* Main Content */
.content {
  position: relative;
  z-index: 2;
}

/* HERO SECTION */
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  padding: 2rem;
}

.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, transparent 30%, rgba(26, 10, 16, 0.6) 100%);
  pointer-events: none;
}

.hero-subtitle {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(0.9rem, 2vw, 1.3rem);
  font-weight: 300;
  letter-spacing: 0.4em;
  text-transform: uppercase;
  color: var(--gold-light);
  margin-bottom: 1rem;
  opacity: 0;
  animation: fadeUp 1.5s ease 0.5s forwards;
}

.hero-name {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(4rem, 12vw, 10rem);
  color: var(--rose-light);
  text-shadow:
    0 0 40px rgba(232, 69, 107, 0.5),
    0 0 80px rgba(232, 69, 107, 0.3),
    0 0 120px rgba(232, 69, 107, 0.15);
  line-height: 1.1;
  opacity: 0;
  animation: fadeUp 2s ease 1s forwards, glow 3s ease-in-out infinite alternate;
  position: relative;
}

.hero-heart {
  display: inline-block;
  font-size: clamp(2rem, 5vw, 4rem);
  animation: heartbeat 1.2s ease-in-out infinite;
  margin: 0 0.5rem;
  filter: drop-shadow(0 0 15px rgba(232, 69, 107, 0.6));
}

.hero-tagline {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: clamp(1.1rem, 3vw, 1.8rem);
  color: var(--blush);
  margin-top: 1.5rem;
  font-weight: 300;
  opacity: 0;
  animation: fadeUp 1.5s ease 1.8s forwards;
}

.scroll-indicator {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  animation: fadeUp 1s ease 3s forwards, bounce 2s ease-in-out infinite 3s;
  font-size: 1.5rem;
  color: var(--gold);
}

/* Sections Common */
section {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  position: relative;
}

.section-inner {
  max-width: 800px;
  width: 100%;
  opacity: 0;
  transform: translateY(60px);
  transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.section-inner.visible {
  opacity: 1;
  transform: translateY(0);
}

/* LOVE LETTER SECTION */
.love-letter {
  background: linear-gradient(180deg, transparent, rgba(107, 29, 58, 0.15), transparent);
}

.letter-card {
  background: linear-gradient(145deg, rgba(255, 248, 240, 0.04), rgba(255, 248, 240, 0.01));
  border: 1px solid rgba(212, 168, 83, 0.2);
  border-radius: 2px;
  padding: clamp(2rem, 5vw, 4rem);
  position: relative;
  backdrop-filter: blur(10px);
}

.letter-card::before {
  content: '‚ùù';
  position: absolute;
  top: -0.5rem;
  left: 1.5rem;
  font-size: 5rem;
  color: var(--gold);
  opacity: 0.2;
  font-family: 'Playfair Display', serif;
}

.letter-card::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 2px;
  background: linear-gradient(135deg, var(--gold) 0%, transparent 30%, transparent 70%, var(--rose) 100%);
  z-index: -1;
  opacity: 0.3;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  padding: 1px;
}

.letter-greeting {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  color: var(--rose-light);
  margin-bottom: 1.5rem;
}

.letter-body {
  font-size: clamp(1rem, 2.5vw, 1.25rem);
  line-height: 2;
  color: rgba(255, 248, 240, 0.85);
  font-weight: 300;
}

.letter-body p {
  margin-bottom: 1.2rem;
  text-indent: 2rem;
}

.letter-signature {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.5rem, 3vw, 2rem);
  color: var(--gold);
  text-align: right;
  margin-top: 2rem;
}

/* REASONS SECTION */
.reasons {
  background: linear-gradient(180deg, transparent, rgba(232, 69, 107, 0.05), transparent);
}

.reasons-title {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2rem, 5vw, 3.5rem);
  color: var(--rose-light);
  text-align: center;
  margin-bottom: 3rem;
  text-shadow: 0 0 30px rgba(232, 69, 107, 0.3);
}

.reasons-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.reason-card {
  background: linear-gradient(145deg, rgba(232, 69, 107, 0.08), rgba(232, 69, 107, 0.02));
  border: 1px solid rgba(232, 69, 107, 0.15);
  border-radius: 4px;
  padding: 2rem;
  text-align: center;
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  opacity: 0;
  transform: translateY(30px);
  position: relative;
  overflow: hidden;
}

.reason-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.03), transparent);
  transition: left 0.6s ease;
}

.reason-card:hover::before {
  left: 100%;
}

.reason-card.visible {
  opacity: 1;
  transform: translateY(0);
}

.reason-card:hover {
  transform: translateY(-5px);
  border-color: rgba(232, 69, 107, 0.4);
  box-shadow: 0 10px 40px rgba(232, 69, 107, 0.15);
}

.reason-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  display: block;
  filter: drop-shadow(0 0 10px rgba(232, 69, 107, 0.4));
}

.reason-text {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: 1.05rem;
  color: var(--blush);
  line-height: 1.7;
}

/* PROMISE SECTION */
.promise {
  background: linear-gradient(180deg, transparent, rgba(212, 168, 83, 0.05), transparent);
}

.promise-content {
  text-align: center;
}

.promise-title {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2rem, 5vw, 3.5rem);
  color: var(--gold-light);
  margin-bottom: 3rem;
  text-shadow: 0 0 30px rgba(212, 168, 83, 0.3);
}

.promise-ring {
  width: 200px;
  height: 200px;
  margin: 0 auto 3rem;
  position: relative;
  animation: float 4s ease-in-out infinite;
}

.ring-circle {
  width: 100%;
  height: 100%;
  border: 3px solid var(--gold);
  border-radius: 50%;
  position: relative;
  box-shadow:
    0 0 20px rgba(212, 168, 83, 0.3),
    inset 0 0 20px rgba(212, 168, 83, 0.1);
  animation: ringRotate 8s linear infinite;
}

.ring-circle::before {
  content: 'üíé';
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 1.8rem;
  filter: drop-shadow(0 0 15px rgba(212, 168, 83, 0.6));
}

.promise-text {
  font-size: clamp(1.1rem, 2.5vw, 1.4rem);
  line-height: 2.2;
  color: rgba(255, 248, 240, 0.8);
  font-weight: 300;
  max-width: 600px;
  margin: 0 auto;
}

.promise-text .highlight {
  color: var(--gold-light);
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-weight: 400;
}

/* FINALE SECTION */
.finale {
  min-height: 100vh;
  background: radial-gradient(ellipse at center, rgba(232, 69, 107, 0.1), transparent 70%);
}

.finale-inner {
  text-align: center;
}

.finale-heart {
  font-size: clamp(4rem, 10vw, 8rem);
  display: inline-block;
  animation: heartbeat 1.2s ease-in-out infinite;
  filter: drop-shadow(0 0 30px rgba(232, 69, 107, 0.5));
  margin-bottom: 2rem;
}

.finale-message {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2.5rem, 7vw, 5rem);
  color: var(--rose-light);
  text-shadow:
    0 0 40px rgba(232, 69, 107, 0.4),
    0 0 80px rgba(232, 69, 107, 0.2);
  margin-bottom: 1rem;
}

.finale-sub {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: clamp(1rem, 2.5vw, 1.5rem);
  color: var(--gold-light);
  letter-spacing: 0.1em;
}

.finale-date {
  margin-top: 3rem;
  font-size: 0.95rem;
  color: rgba(255, 248, 240, 0.4);
  letter-spacing: 0.3em;
  text-transform: uppercase;
}

/* MUSIC BUTTON */
.music-btn {
  position: fixed;
  top: 1.5rem;
  right: 1.5rem;
  z-index: 100;
  background: rgba(232, 69, 107, 0.15);
  border: 1px solid rgba(232, 69, 107, 0.3);
  color: var(--rose-light);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.music-btn:hover {
  background: rgba(232, 69, 107, 0.3);
  transform: scale(1.1);
}

.music-btn.playing {
  animation: pulse 2s ease-in-out infinite;
}

/* Sparkle on click */
.sparkle {
  position: fixed;
  pointer-events: none;
  z-index: 999;
  font-size: 1.2rem;
  animation: sparkleAnim 1s ease forwards;
}

@keyframes sparkleAnim {
  0% { opacity: 1; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
  100% { opacity: 0; transform: scale(0) rotate(360deg) translateY(-50px); }
}

/* Animations */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes glow {
  from { text-shadow: 0 0 40px rgba(232, 69, 107, 0.5), 0 0 80px rgba(232, 69, 107, 0.3); }
  to { text-shadow: 0 0 60px rgba(232, 69, 107, 0.7), 0 0 120px rgba(232, 69, 107, 0.4), 0 0 160px rgba(232, 69, 107, 0.2); }
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  15% { transform: scale(1.15); }
  30% { transform: scale(1); }
  45% { transform: scale(1.1); }
  60% { transform: scale(1); }
}

@keyframes bounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(-10px); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-15px); }
}

@keyframes ringRotate {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(232, 69, 107, 0.4); }
  50% { box-shadow: 0 0 0 12px rgba(232, 69, 107, 0); }
}

/* Responsive */
@media (max-width: 640px) {
  .reasons-grid { grid-template-columns: 1fr; }
  .letter-card { padding: 1.5rem; }
  .promise-ring { width: 150px; height: 150px; }
}

/* Selection color */
::selection {
  background: rgba(232, 69, 107, 0.4);
  color: var(--cream);
}
</style>
</head>
<body>

<!-- Three.js Background -->
<canvas id="three-canvas"></canvas>

<!-- Floating Petals -->
<div class="petals-container" id="petals"></div>

<!-- Music Toggle -->
<button class="music-btn" id="musicBtn" title="Toggle Music">‚ô´</button>

<!-- Main Content -->
<div class="content">

  <!-- HERO -->
  <section class="hero">
    <p class="hero-subtitle">Happy Valentine's Day, My Love</p>
    <h1 class="hero-name">
      <span class="hero-heart">‚ù§Ô∏è</span> Durar <span class="hero-heart">‚ù§Ô∏è</span>
    </h1>
    <p class="hero-tagline">My Princess & The Most Beautiful Thing In My World</p>
    <div class="scroll-indicator">‚Üì</div>
  </section>

  <!-- LOVE LETTER -->
  <section class="love-letter">
    <div class="section-inner">
      <div class="letter-card">
        <p class="letter-greeting">My Dearest Durar,</p>
        <div class="letter-body">
          <p>From the very first moment you came into my life, everything changed. The world became more colorful, the days became warmer, and my heart found its home. You are my sunrise and my sunset, the reason I smile before I even open my eyes.</p>
          <p>Every second with you feels like a gift I never knew I deserved. Your laugh is the most beautiful melody, your eyes hold entire galaxies, and your soul ‚Äî oh, your soul ‚Äî is the purest thing I have ever known.</p>
          <p>You are not just the love of my life ‚Äî you are the life of my love. Everything I am and everything I aspire to be is inspired by you. In a world full of billions, my heart chose you, and it would choose you again in every lifetime, without hesitation.</p>
        </div>
        <p class="letter-signature">Forever & Always Yours üíï</p>
      </div>
    </div>
  </section>

  <!-- REASONS I LOVE YOU -->
  <section class="reasons">
    <div class="section-inner">
      <h2 class="reasons-title">Why I Love You</h2>
      <div class="reasons-grid">
        <div class="reason-card">
          <span class="reason-icon">‚ú®</span>
          <p class="reason-text">Your smile lights up my darkest days and fills my world with warmth</p>
        </div>
        <div class="reason-card">
          <span class="reason-icon">üëë</span>
          <p class="reason-text">You are my princess, my queen, and the royalty of my heart</p>
        </div>
        <div class="reason-card">
          <span class="reason-icon">üåπ</span>
          <p class="reason-text">Your beauty ‚Äî inside and out ‚Äî takes my breath away every single day</p>
        </div>
        <div class="reason-card">
          <span class="reason-icon">üí´</span>
          <p class="reason-text">You believe in me when I forget to believe in myself</p>
        </div>
        <div class="reason-card">
          <span class="reason-icon">ü¶ã</span>
          <p class="reason-text">You make my heart flutter like the very first time, every time</p>
        </div>
        <div class="reason-card">
          <span class="reason-icon">üåô</span>
          <p class="reason-text">You are my peace, my comfort, and my forever safe place</p>
        </div>
      </div>
    </div>
  </section>

  <!-- PROMISE -->
  <section class="promise">
    <div class="section-inner">
      <div class="promise-content">
        <h2 class="promise-title">My Promise To You</h2>
        <div class="promise-ring">
          <div class="ring-circle"></div>
        </div>
        <p class="promise-text">
          I promise to love you on <span class="highlight">your brightest days</span> and your hardest nights.
          I promise to be your strength when you feel weak, your calm when the world is loud,
          and your <span class="highlight">home no matter where we are</span>.
          I promise that my love for you will never fade ‚Äî it will only grow deeper,
          stronger, and more <span class="highlight">infinite</span> with every passing day.
        </p>
      </div>
    </div>
  </section>

  <!-- FINALE -->
  <section class="finale">
    <div class="section-inner finale-inner">
      <div class="finale-heart">‚ù§Ô∏è</div>
      <h2 class="finale-message">I Love You, Durar</h2>
      <p class="finale-sub">More than words could ever say</p>
      <p class="finale-date">Valentine's Day 2026 ‚Äî Forever & Beyond</p>
    </div>
  </section>

</div>

<script>
// ============== THREE.JS 3D HEARTS & PARTICLES ==============
const canvas = document.getElementById('three-canvas');
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 30;

const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

// Heart shape
function createHeartShape() {
  const shape = new THREE.Shape();
  const x = 0, y = 0;
  shape.moveTo(x, y + 0.5);
  shape.bezierCurveTo(x, y + 0.5, x - 0.5, y, x - 0.5, y);
  shape.bezierCurveTo(x - 0.5, y - 0.35, x, y - 0.6, x, y - 0.9);
  shape.bezierCurveTo(x, y - 0.6, x + 0.5, y - 0.35, x + 0.5, y);
  shape.bezierCurveTo(x + 0.5, y, x, y + 0.5, x, y + 0.5);
  return shape;
}

// 3D Hearts
const hearts = [];
const heartShape = createHeartShape();
const heartGeometry = new THREE.ExtrudeGeometry(heartShape, {
  depth: 0.3, bevelEnabled: true, bevelSegments: 3, bevelSize: 0.05, bevelThickness: 0.05
});

for (let i = 0; i < 25; i++) {
  const material = new THREE.MeshPhongMaterial({
    color: new THREE.Color().setHSL(0.95 + Math.random() * 0.05, 0.7 + Math.random() * 0.3, 0.4 + Math.random() * 0.2),
    transparent: true,
    opacity: 0.25 + Math.random() * 0.35,
    shininess: 100,
  });
  const heart = new THREE.Mesh(heartGeometry, material);
  heart.position.set(
    (Math.random() - 0.5) * 60,
    (Math.random() - 0.5) * 60,
    (Math.random() - 0.5) * 30 - 10
  );
  const scale = 0.5 + Math.random() * 2;
  heart.scale.set(scale, scale, scale);
  heart.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.PI);
  heart.userData = {
    speedY: 0.002 + Math.random() * 0.005,
    speedRot: 0.003 + Math.random() * 0.008,
    floatOffset: Math.random() * Math.PI * 2,
    floatSpeed: 0.5 + Math.random() * 1,
    floatRange: 0.3 + Math.random() * 0.5,
  };
  scene.add(heart);
  hearts.push(heart);
}

// Particles (stardust)
const particlesCount = 600;
const particlesGeometry = new THREE.BufferGeometry();
const positions = new Float32Array(particlesCount * 3);
const colors = new Float32Array(particlesCount * 3);

for (let i = 0; i < particlesCount; i++) {
  positions[i * 3] = (Math.random() - 0.5) * 80;
  positions[i * 3 + 1] = (Math.random() - 0.5) * 80;
  positions[i * 3 + 2] = (Math.random() - 0.5) * 50 - 5;
  const isGold = Math.random() > 0.5;
  if (isGold) {
    colors[i * 3] = 0.83; colors[i * 3 + 1] = 0.66; colors[i * 3 + 2] = 0.33;
  } else {
    colors[i * 3] = 1.0; colors[i * 3 + 1] = 0.48; colors[i * 3 + 2] = 0.61;
  }
}

particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

const particlesMaterial = new THREE.PointsMaterial({
  size: 0.12,
  transparent: true,
  opacity: 0.6,
  vertexColors: true,
  blending: THREE.AdditiveBlending,
});

const particles = new THREE.Points(particlesGeometry, particlesMaterial);
scene.add(particles);

// Lights
const ambientLight = new THREE.AmbientLight(0xff7b9c, 0.4);
scene.add(ambientLight);

const pointLight1 = new THREE.PointLight(0xe8456b, 1.5, 50);
pointLight1.position.set(10, 10, 15);
scene.add(pointLight1);

const pointLight2 = new THREE.PointLight(0xd4a853, 1, 50);
pointLight2.position.set(-10, -10, 15);
scene.add(pointLight2);

// Mouse interaction
let mouseX = 0, mouseY = 0;
document.addEventListener('mousemove', (e) => {
  mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
  mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
});

// Animation loop
const clock = new THREE.Clock();
function animate() {
  requestAnimationFrame(animate);
  const elapsed = clock.getElapsedTime();

  // Rotate hearts
  hearts.forEach((heart) => {
    const d = heart.userData;
    heart.rotation.y += d.speedRot;
    heart.rotation.x += d.speedRot * 0.3;
    heart.position.y += Math.sin(elapsed * d.floatSpeed + d.floatOffset) * 0.01;
    heart.position.x += Math.cos(elapsed * d.floatSpeed * 0.7 + d.floatOffset) * 0.005;
  });

  // Particles gentle movement
  const posArray = particles.geometry.attributes.position.array;
  for (let i = 0; i < particlesCount; i++) {
    posArray[i * 3 + 1] += Math.sin(elapsed + i * 0.1) * 0.003;
    posArray[i * 3] += Math.cos(elapsed * 0.5 + i * 0.05) * 0.002;
  }
  particles.geometry.attributes.position.needsUpdate = true;
  particles.rotation.y = elapsed * 0.02;

  // Camera follows mouse subtly
  camera.position.x += (mouseX * 3 - camera.position.x) * 0.02;
  camera.position.y += (-mouseY * 2 - camera.position.y) * 0.02;
  camera.lookAt(0, 0, 0);

  renderer.render(scene, camera);
}
animate();

// Resize
window.addEventListener('resize', () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// ============== FLOATING PETALS ==============
const petalsContainer = document.getElementById('petals');
function createPetal() {
  const petal = document.createElement('div');
  petal.className = 'petal';
  const size = 6 + Math.random() * 12;
  petal.style.width = size + 'px';
  petal.style.height = size + 'px';
  petal.style.left = Math.random() * 100 + '%';
  petal.style.animationDuration = (6 + Math.random() * 8) + 's';
  petal.style.animationDelay = Math.random() * 5 + 's';
  const hue = 340 + Math.random() * 30;
  petal.style.background = `hsl(${hue}, 70%, ${60 + Math.random() * 20}%)`;
  petal.style.opacity = '0';
  petalsContainer.appendChild(petal);
  setTimeout(() => petal.remove(), 16000);
}
setInterval(createPetal, 400);

// ============== SCROLL REVEAL ==============
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.15 });

document.querySelectorAll('.section-inner').forEach(el => observer.observe(el));

// Stagger reason cards
const cardObserver = new IntersectionObserver((entries) => {
  entries.forEach((entry, i) => {
    if (entry.isIntersecting) {
      setTimeout(() => {
        entry.target.classList.add('visible');
      }, i * 150);
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.reason-card').forEach(el => cardObserver.observe(el));

// ============== SPARKLE ON CLICK ==============
const sparkleEmojis = ['üíï', '‚ú®', 'üíñ', 'üåπ', 'üíó', '‚ù§Ô∏è', 'üí´', 'üëë'];
document.addEventListener('click', (e) => {
  for (let i = 0; i < 3; i++) {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.textContent = sparkleEmojis[Math.floor(Math.random() * sparkleEmojis.length)];
    sparkle.style.left = (e.clientX + (Math.random() - 0.5) * 40) + 'px';
    sparkle.style.top = (e.clientY + (Math.random() - 0.5) * 40) + 'px';
    document.body.appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 1000);
  }
});

// ============== BACKGROUND MUSIC (Web Audio API gentle tone) ==============
let audioCtx, isPlaying = false;
const musicBtn = document.getElementById('musicBtn');

function createMusic() {
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  
  // Simple romantic chord progression
  function playNote(freq, startTime, duration, gain = 0.04) {
    const osc = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.value = freq;
    g.gain.setValueAtTime(0, startTime);
    g.gain.linearRampToValueAtTime(gain, startTime + 0.3);
    g.gain.linearRampToValueAtTime(gain * 0.6, startTime + duration - 0.5);
    g.gain.linearRampToValueAtTime(0, startTime + duration);
    osc.connect(g);
    g.connect(audioCtx.destination);
    osc.start(startTime);
    osc.stop(startTime + duration);
  }

  function playChordProgression() {
    const now = audioCtx.currentTime;
    const chords = [
      [261.63, 329.63, 392.00], // C major
      [220.00, 277.18, 329.63], // Am
      [246.94, 311.13, 369.99], // B dim ‚Üí F major
      [196.00, 246.94, 293.66], // G
    ];
    const beatDuration = 3;
    chords.forEach((chord, i) => {
      chord.forEach(freq => {
        playNote(freq, now + i * beatDuration, beatDuration, 0.025);
        playNote(freq * 2, now + i * beatDuration, beatDuration, 0.01);
      });
    });
    if (isPlaying) {
      setTimeout(playChordProgression, chords.length * beatDuration * 1000);
    }
  }

  playChordProgression();
}

musicBtn.addEventListener('click', () => {
  if (!isPlaying) {
    isPlaying = true;
    musicBtn.classList.add('playing');
    musicBtn.textContent = '‚ô™';
    createMusic();
  } else {
    isPlaying = false;
    musicBtn.classList.remove('playing');
    musicBtn.textContent = '‚ô´';
    if (audioCtx) audioCtx.close();
  }
});
</script>

</body>
</html>
